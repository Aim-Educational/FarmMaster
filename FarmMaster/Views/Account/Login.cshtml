@model FarmMaster.Models.AccountLoginViewModel
@{
    ViewData["Title"] = "Login";
    ViewData["WhichPage"] = "Login";
    Layout = "~/Views/Shared/Layouts/_LoginFormLayout.cshtml";
}

<form class="ui large form" method="post" asp-action="Login">
    @if(Model.VerifyEmail)
    {
        <div class="ui info message">
            <div class="header">
                Please Verify your Email
            </div>
            <p>
                Before you can log into your account, please verify your account by click on the link emailed to you.
            </p>
            <p>
                Please click <a asp-action="ResendEmailVerifyEmail">here</a> if you wish to resend the verification email.
            </p>
        </div>
    }

    <div class="field">
        <div class="ui left icon input">
            <i class="user icon"></i>
            <input asp-for="Username" placeholder="Username"/>
        </div>
    </div>

    <div class="field">
        <div class="ui left icon input">
            <i class="lock icon"></i>
            <input asp-for="Password" placeholder="Password" />
        </div>
        <!--Forgive this sin, but I can't excuse making a seperate SASS file just for this single element.-->
        <span class="ui small muted text" style="display: flex; flex-direction: column; align-items: end; padding-right: 1em; padding-top: 0.2em; width: 100%;">
            <a asp-action="ForgotPassword">Forgotten password?</a>
        </span>
    </div>

    <button class="ui large primary fluid button" type="submit">Login</button>

    <div id="divAllErrors" class="ui error message"></div>
</form>

@section Scripts {
    <script type="module">
        import { Validation } from "/js/index.js";
        Validation.hookupForm(document.querySelector(".ui.form"));
    </script>
}